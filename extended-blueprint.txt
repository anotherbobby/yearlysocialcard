
ğŸš€ FARCASTER YEARLY SOCIAL TRADING CARD â€” BLUEPRINT FINAL


---

1ï¸âƒ£ CORE CONCEPT

Setiap user Farcaster dapat mint 1 kartu per tahun, dengan:

Statistik 1 tahun ke belakang dari tanggal mint

Reset eligibility setiap 1 Januari UTC

Mint fee 0.0005 ETH (Base chain)

Royalti 3% ke minter (bukan creator)

Fully on-chain metadata & image

In-app share ke Farcaster setelah mint



---

2ï¸âƒ£ ON-CHAIN IMAGE + METADATA

ğŸ§± Menggunakan:

ERC-721 + on-chain JSON metadata

Image dihasilkan sebagai: â†’ SVG fully on-chain, disimpan dalam bytes
â†’ Diencode base64 dalam metadata


ğŸ“Œ Kenapa SVG?

Ringan

Murah gas di Base (EVM L2)

Bisa dynamic tanpa IPFS

On-chain permanence (desentralisasi penuh)


Contoh struktur metadata on-chain:

{
  "name": "2025 Farcaster Trading Card #0001",
  "description": "1-Year Farcaster Stats (May 2024 â†’ May 2025)",
  "image": "data:image/svg+xml;base64,PHN2ZyB4bWxuâ€¦",
  "attributes": [
    {"trait_type": "FID", "value": 12345},
    {"trait_type": "Year", "value": "2025"},
    {"trait_type": "Casts", "value": 954},
    {"trait_type": "Likes Received", "value": 12044},
    {"trait_type": "Consistency", "value": "11/12"},
    {"trait_type": "Rarity Score", "value": 92},
    {"trait_type": "Rarity Tier", "value": "Legendary"}
  ]
}

âœ” Metadata 100% on-chain

âœ” Image 100% on-chain

âœ” Tidak butuh IPFS / Arweave


---

3ï¸âƒ£ IMAGE GENERATION (ON-CHAIN SVG)

Contract akan:

Render SVG berdasarkan stats:

warna berdasarkan rarity

layout teks

avatar (farcaster avatar â†’  convert avatar ke tema old pixel)



Bagian yang paling dinamis:

Rarity color

Stats text

FID + username

Year

Timeline window


Semua ditulis sebagai SVG path / text.


---

4ï¸âƒ£ SHARE TO FARCASTER â€” INTEGRATED

Setelah mint:

Mini-app mengirim:

Link NFT di Base

Card preview image

Caption default


Bentuk share:

Auto-generated cast:

> I just minted my 2025 Farcaster Yearly Card!
My top stat this year: 12k likes received.
Mint yours â†’ (Frame URL)



Di frame akan ada tombol:

ğŸ”µ â€œShare to Farcasterâ€

Menggunakan Frame Action (Signer Required)

User cukup klik â†’ langsung cast


API backend:

Tidak menyimpan metadata (on-chain)

Hanya menyediakan â€œshare text suggestionâ€ + preview image link (already on-chain)



---

5ï¸âƒ£ NFT ROYALTY SYSTEM (ERC2981)

Royalti:

3% dari harga jual

Directly paid ke wallet minter


Implementation:

royaltyReceiver[tokenId] = minterAddress;

Marketplace seperti OpenSea Base â†’ otomatis honor ERC2981.


---

6ï¸âƒ£ MINTING RULES (UPDATED)

Eligibility:

Bisa mint kapan saja

Tapi 1x pertahun (year ID)


Year ID:

yearID = year(block.timestamp)  // UTC

Stats window:

from = block.timestamp - 365 days
to = block.timestamp

Fee:

require(msg.value == 0.0005 ether)


---

7ï¸âƒ£ SMART CONTRACT ARCHITECTURE â€” COMPLETE

Variables:

Variable	Description

mapping(fid â†’ lastMintYear)	Cegah double mint tahun yang sama
mapping(tokenId â†’ royaltyReceiver)	Royalti minter
mapping(tokenId â†’ StatsHash)	Bukti stat (on-chain hash)
renderSVG(stats)	Function generate gambar
tokenURI(tokenId)	Return JSON metadata fully on-chain


Main functions:

1. mint(fid, username, statsStruct)


2. generateSVG(stats)


3. tokenURI(tokenId)


4. royaltyInfo(tokenId, price)


5. hasMintedThisYear(fid)




---

8ï¸âƒ£ LEADERBOARD FEATURE (UPDATED)

Leaderboard bekerja dengan rolling stats window, bukan kalender.

Leaderboard categories:

ğŸŸ£ 1. Most Casts (12mo window)

ğŸŸ£ 2. Most Likes (12mo window)

ğŸŸ£ 3. Highest Engagement

ğŸŸ£ 4. Highest Consistency

ğŸŸ£ 5. Highest Rarity Score

ğŸŸ£ 6. Top Traders (royalty earned)

ğŸŸ£ 7. Most Valuable Card (sales price)

Display:

On Farcaster Frame

Sorted daily / weekly

Top 100


Stats biasanya di AR/Redis / simple DB, bukan on-chain.


---

9ï¸âƒ£ MINI-APP (FRAME) FLOW â€” FINAL VERSION

Frame 1 â€” Home

â€œMint yearly card (0.0005 ETH)â€
â†’ Show minted status / countdown to reset

Frame 2 â€” Stats preview

Show rolling stats (fetched off-chain)

Frame 3 â€” Confirm mint

Button:

> Mint Now (Pay 0.0005 ETH)



Frame 4 â€” Success

Tampilkan NFT (SVG)

Tombol:


ğŸ”µ Share to Farcaster
ğŸ”µ View on BaseScan
ğŸ”µ View on OpenSea

