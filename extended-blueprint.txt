ğŸš€ FARCASTER YEARLY SOCIAL TRADING CARD â€” BLUEPRINT v2.0


================================================================================
                              TABLE OF CONTENTS
================================================================================

1. Core Concept
2. Technical Architecture
3. NFT Metadata & SVG Design
4. Rarity System
5. Smart Contract Specification
6. Minting Rules & Eligibility
7. Royalty System (ERC2981)
8. Gas Optimization Strategy
9. Stats Verification Flow
10. Leaderboard System
11. Frame Integration (Farcaster)
12. Economic Model
13. Deployment Guide


================================================================================
1ï¸âƒ£ CORE CONCEPT
================================================================================

Farcaster Yearly Social Card adalah NFT trading card yang mencatat aktivitas
sosial pengguna Farcaster dalam periode 1 tahun.

KEY FEATURES:
âœ… 1 mint per user per tahun (calendar year basis)
âœ… Stats window: Rolling 365 hari dari tanggal mint
âœ… Eligibility reset: Setiap 1 Januari UTC
âœ… Mint fee: 0.0005 ETH (Base chain)
âœ… Royalty: 3% ke original minter (ERC2981)
âœ… Fully on-chain: Metadata + SVG image
âœ… Integrated share to Farcaster after mint

EXAMPLE:
- User mint tanggal 15 Mei 2025
- Stats period: 15 Mei 2024 â†’ 15 Mei 2025
- Next eligible: 1 Januari 2026


================================================================================
2ï¸âƒ£ TECHNICAL ARCHITECTURE
================================================================================

STACK:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Frontend: Farcaster Frame (Next.js + Frog Framework)       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Backend API: Node.js + Express                             â”‚
â”‚  â”œâ”€ Stats fetching (Neynar API)                            â”‚
â”‚  â”œâ”€ Signature generation (ECDSA)                           â”‚
â”‚  â””â”€ Leaderboard caching (Redis)                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Smart Contract: Solidity 0.8.20                            â”‚
â”‚  â”œâ”€ ERC721 (Solady optimized)                              â”‚
â”‚  â”œâ”€ ERC2981 (Royalty standard)                             â”‚
â”‚  â””â”€ On-chain SVG generation                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Blockchain: Base L2 (Ethereum)                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

DATA FLOW:
User â†’ Frame â†’ Backend API â†’ Neynar API â†’ Stats
                    â†“
         Generate signature
                    â†“
      User â†’ Smart Contract (mint with signature)
                    â†“
              NFT minted + SVG generated on-chain


================================================================================
3ï¸âƒ£ NFT METADATA & SVG DESIGN
================================================================================

METADATA STRUCTURE (100% On-Chain):
{
  "name": "Farcaster Card #0001 (2025)",
  "description": "1-Year Farcaster activity stats for FID 12345",
  "image": "data:image/svg+xml;base64,PHN2ZyB4bWxu...",
  "attributes": [
    {"trait_type": "FID", "value": 12345},
    {"trait_type": "Year", "value": 2025},
    {"trait_type": "Casts", "value": 954},
    {"trait_type": "Likes Received", "value": 12044},
    {"trait_type": "Replies", "value": 342},
    {"trait_type": "Recasts", "value": 587},
    {"trait_type": "Followers Gained", "value": 156},
    {"trait_type": "Consistency", "value": "11/12"},
    {"trait_type": "Unique Interactors", "value": 287},
    {"trait_type": "Rarity Tier", "value": "Legendary"},
    {"trait_type": "Rarity Score", "value": 92}
  ]
}

SVG DESIGN FEATURES:
âœ¨ Premium gradient background (rarity-based color)
âœ¨ Glow effects using SVG filters
âœ¨ 7 core stats displayed in grid layout
âœ¨ Username + FID prominently shown
âœ¨ Year badge with rarity tier label
âœ¨ Responsive design (400x600 viewBox)
âœ¨ Professional typography
âœ¨ Fully generated on-chain (no IPFS)

RARITY COLOR SCHEME:
- Legendary: Gold (#FFD700)
- Epic: Purple (#9B59B6)
- Rare: Blue (#3498DB)
- Uncommon: Green (#2ECC71)
- Common: Gray (#95A5A6)


================================================================================
4ï¸âƒ£ RARITY SYSTEM
================================================================================

FORMULA (Weighted Scoring):
RarityScore = 
  (Casts / 1000) Ã— 10 +              // Max 10 points
  (Likes / 5000) Ã— 20 +               // Max 20 points
  (Replies / 500) Ã— 12 +              // Max 12 points
  (Recasts / 500) Ã— 12 +              // Max 12 points
  (Followers / 200) Ã— 8 +             // Max 8 points
  (Consistency / 12) Ã— 20 +           // Max 20 points
  (UniqueInteractors / 300) Ã— 18      // Max 18 points

Total Max Score: 100 points

TIER MAPPING:
- 85-100: Legendary (Top 5% - Gold)
- 70-84:  Epic (Top 15% - Purple)
- 50-69:  Rare (Top 35% - Blue)
- 30-49:  Uncommon (Top 60% - Green)
- 0-29:   Common (Gray)

RATIONALE:
âœ… Balances quantity (casts, likes) with quality (engagement, consistency)
âœ… Rewards active users who engage regularly (consistency = 20%)
âœ… Values authentic interactions (unique interactors = 18%)
âœ… Achievable for regular users (not just influencers)
âœ… Calculated on-chain for transparency


================================================================================
5ï¸âƒ£ SMART CONTRACT SPECIFICATION
================================================================================

CONTRACT: FarcasterYearlyCard.sol
INHERITANCE: ERC721 (Solady) + Ownable + ERC2981

STATE VARIABLES:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Variable                  â”‚ Type                    â”‚ Description  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ MINT_FEE                  â”‚ uint256 constant        â”‚ 0.0005 ETH   â”‚
â”‚ ROYALTY_BPS               â”‚ uint16 constant         â”‚ 300 (3%)     â”‚
â”‚ _cards                    â”‚ mapping(uint256=>Card)  â”‚ Token data   â”‚
â”‚ _lastMintYear             â”‚ mapping(uint32=>uint256)â”‚ Year bitmap  â”‚
â”‚ _fullUsernames            â”‚ mapping(uint256=>string)â”‚ Long names   â”‚
â”‚ _nextTokenId              â”‚ uint256                 â”‚ Counter      â”‚
â”‚ statsOracle               â”‚ address immutable       â”‚ Backend addr â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

STRUCT: CardData (2 storage slots = ~40k gas)
struct CardData {
    uint32 fid;                  // Farcaster ID
    uint16 casts;                // Total casts
    uint16 likes;                // Likes received
    uint16 replies;              // Reply count
    uint16 recasts;              // Recast count
    uint16 followers;            // Followers gained
    uint8 consistency;           // Active months (0-12)
    uint8 rarityTier;            // 0-4 tier
    uint16 yearMinted;           // Year (2024-2280)
    uint32 mintTimestamp;        // Unix timestamp
    uint32 uniqueInteractors;    // Unique users
    address minter;              // Original minter
    bytes12 usernameHash;        // Username hash (first 12 bytes)
}

MAIN FUNCTIONS:

1. mint(fid, username, stats..., signature) external payable
   â†’ Mint NFT dengan verifikasi signature dari backend
   â†’ Gas: ~150,000

2. tokenURI(tokenId) public view returns (string)
   â†’ Generate metadata + SVG on-the-fly
   â†’ Gas: ~80,000 (view only, free)

3. royaltyInfo(tokenId, salePrice) external view returns (address, uint256)
   â†’ Return minter address + 3% royalty amount
   â†’ ERC2981 standard

4. hasMintedThisYear(fid) public view returns (bool)
   â†’ Check eligibility untuk current year

5. getCardData(tokenId) external view returns (CardData)
   â†’ Get full card data


================================================================================
6ï¸âƒ£ MINTING RULES & ELIGIBILITY
================================================================================

ELIGIBILITY LOGIC:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Rule                                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1. User dapat mint 1 kartu per calendar year               â”‚
â”‚ 2. Year ID = UTC year (2025, 2026, ...)                    â”‚
â”‚ 3. Stats window = 365 hari ke belakang dari mint time      â”‚
â”‚ 4. Eligibility reset setiap 1 Januari 00:00 UTC            â”‚
â”‚ 5. Mint fee = exactly 0.0005 ETH                           â”‚
â”‚ 6. Must provide valid signature from statsOracle           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

EXAMPLE SCENARIOS:

Scenario 1:
- User mint: 15 Mei 2025
- Stats period: 15 Mei 2024 â†’ 15 Mei 2025
- Next eligible: 1 Januari 2026
- Jika mint lagi 10 Juni 2025: âŒ REJECTED (same year)

Scenario 2:
- User mint: 20 Des 2025
- Stats period: 20 Des 2024 â†’ 20 Des 2025
- Next eligible: 1 Januari 2026 (11 hari kemudian)
- Jika mint 2 Jan 2026: âœ… ALLOWED (new year)
- Stats period baru: 2 Jan 2025 â†’ 2 Jan 2026

SIGNATURE VERIFICATION:
hash = keccak256(fid, username, stats..., year)
ethSignedHash = keccak256("\x19Ethereum Signed Message:\n32", hash)
signer = ecrecover(ethSignedHash, signature)
require(signer == statsOracle, "Invalid signature")


================================================================================
7ï¸âƒ£ ROYALTY SYSTEM (ERC2981)
================================================================================

SPECIFICATION:
- Standard: ERC2981
- Royalty: 3% of sale price
- Recipient: Original minter (NOT current owner)
- Marketplace support: OpenSea, Blur, LooksRare, etc.

IMPLEMENTATION:
function royaltyInfo(uint256 tokenId, uint256 salePrice) 
    external view returns (address receiver, uint256 royaltyAmount) 
{
    address minter = _cards[tokenId].minter;
    uint256 royalty = (salePrice * 300) / 10000; // 3%
    return (minter, royalty);
}

EXAMPLE:
- Card dijual seharga 0.1 ETH ($300)
- Royalty: 0.003 ETH ($9) â†’ ke original minter
- Seller terima: 0.097 ETH ($291)
- Marketplace fee: ~2.5% additional

BENEFITS:
âœ… Passive income untuk minters
âœ… Incentivize early adoption
âœ… Long-term value alignment
âœ… Automatic via marketplace


================================================================================
8ï¸âƒ£ GAS OPTIMIZATION STRATEGY
================================================================================

OPTIMIZATIONS APPLIED:

1. DATA PACKING (Save ~40k gas)
   âœ… CardData struct = 2 storage slots (vs 10+ slots naive)
   âœ… Use uint16/uint32 instead of uint256 where possible
   âœ… Pack related data together

2. ON-DEMAND SVG GENERATION (Save ~30k gas)
   âœ… SVG generated in tokenURI() view function
   âœ… No storage of SVG bytes
   âœ… Computed on-the-fly from CardData

3. YEAR ELIGIBILITY BITMAP (Save ~20k gas)
   âœ… Single uint256 stores year minted
   âœ… No array iterations needed

4. SOLADY ERC721 (Save ~15k gas)
   âœ… Ultra-optimized base implementation
   âœ… Assembly optimizations
   âœ… Smaller bytecode

5. EFFICIENT RARITY CALCULATION (Save ~5k gas)
   âœ… Pure function (no storage reads)
   âœ… Simple arithmetic (no loops)
   âœ… Inline calculation

6. MINIMAL EVENTS (Save ~3k gas)
   âœ… Only 1 custom event (CardMinted)
   âœ… Rely on standard ERC721 Transfer event

TOTAL GAS SAVED: ~113,000 gas

GAS COSTS:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Action           â”‚ Gas Used  â”‚ Cost (Base)          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Deploy contract  â”‚ ~2.5M     â”‚ $25-35               â”‚
â”‚ Mint NFT         â”‚ ~150k     â”‚ $0.50-0.80           â”‚
â”‚ TokenURI (view)  â”‚ ~80k      â”‚ Free (read-only)     â”‚
â”‚ RoyaltyInfo      â”‚ ~5k       â”‚ Free (read-only)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

COMPARISON:
Naive implementation: ~450k gas/mint
Optimized version: ~150k gas/mint
Savings: 67% reduction


================================================================================
9ï¸âƒ£ STATS VERIFICATION FLOW
================================================================================

ARCHITECTURE:
User requests mint
        â†“
Frame calls Backend API
        â†“
Backend fetches stats from Neynar API
        â†“
Backend generates signature (ECDSA)
        â†“
Frame submits transaction with (stats + signature)
        â†“
Smart Contract verifies signature
        â†“
If valid â†’ Mint NFT

BACKEND API ENDPOINTS:

1. GET /api/stats/:fid
   Response:
   {
     "fid": 12345,
     "username": "alice",
     "stats": {
       "casts": 954,
       "likes": 12044,
       "replies": 342,
       "recasts": 587,
       "followers": 156,
       "consistency": 11,
       "uniqueInteractors": 287
     },
     "period": {
       "from": "2024-05-15T00:00:00Z",
       "to": "2025-05-15T00:00:00Z"
     },
     "signature": "0x1234...",
     "canMint": true
   }

2. POST /api/verify
   Body: { tokenId, fid, stats }
   Response: { valid: true/false }

NEYNAR API INTEGRATION:
- Endpoint: https://api.neynar.com/v2/farcaster/user
- Required data:
  âœ… User profile (FID, username, followers)
  âœ… Casts (total count in period)
  âœ… Reactions (likes, recasts)
  âœ… Engagement metrics

SIGNATURE GENERATION (Backend):
const hash = ethers.solidityPackedKeccak256(
  ['uint32', 'string', 'uint16', ...],
  [fid, username, casts, ...]
);
const signature = await wallet.signMessage(ethers.getBytes(hash));

ANTI-MANIPULATION:
âœ… Backend is only trusted signer
âœ… Stats cached for 1 hour (prevent spam)
âœ… Signature includes timestamp (expires in 10 min)
âœ… Contract verifies signature on-chain


================================================================================
ğŸ”Ÿ LEADERBOARD SYSTEM
================================================================================

CATEGORIES:

1. ğŸ† Most Casts (12-month rolling window)
2. â¤ï¸ Most Likes Received
3. ğŸ’¬ Highest Engagement Rate (replies + recasts / casts)
4. ğŸ“… Highest Consistency (active months)
5. â­ Highest Rarity Score
6. ğŸ’° Top Traders (most royalty earned)
7. ğŸ’ Most Valuable Card (highest sale price)

DATA STORAGE:
- Off-chain: Redis cache
- Updated: Every 6 hours
- Display: Top 100 per category

REDIS SCHEMA:
Key: leaderboard:casts:2025
Value: Sorted Set (ZADD)
  - Score: casts count
  - Member: FID

Example:
ZADD leaderboard:casts:2025 954 12345
ZADD leaderboard:casts:2025 1203 67890

FRAME DISPLAY:
Frame route: /leaderboard/:category
Shows:
- Rank
- Username
- FID
- Stat value
- Link to user's card (if minted)


================================================================================
1ï¸âƒ£1ï¸âƒ£ FRAME INTEGRATION (FARCASTER)
================================================================================

FRAME FLOW:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Frame 1: HOME                                               â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚  ğŸ´ Farcaster Yearly Card                           â”‚    â”‚
â”‚ â”‚                                                      â”‚    â”‚
â”‚ â”‚  Mint your 2025 social stats card!                  â”‚    â”‚
â”‚ â”‚  Fee: 0.0005 ETH on Base                            â”‚    â”‚
â”‚ â”‚                                                      â”‚    â”‚
â”‚ â”‚  Status: âœ… Eligible for 2025                        â”‚    â”‚
â”‚ â”‚  Next reset: Jan 1, 2026                            â”‚    â”‚
â”‚ â”‚                                                      â”‚    â”‚
â”‚ â”‚  [Preview My Stats]  [View Leaderboard]             â”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Frame 2: STATS PREVIEW                                      â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚  ğŸ“Š Your 2025 Stats (May 2024 - May 2025)          â”‚    â”‚
â”‚ â”‚                                                      â”‚    â”‚
â”‚ â”‚  Casts: 954        Likes: 12,044                    â”‚    â”‚
â”‚ â”‚  Replies: 342      Recasts: 587                     â”‚    â”‚
â”‚ â”‚  Followers: +156   Consistency: 11/12               â”‚    â”‚
â”‚ â”‚  Unique Engagements: 287                            â”‚    â”‚
â”‚ â”‚                                                      â”‚    â”‚
â”‚ â”‚  Rarity: â­ LEGENDARY (Score: 92/100)               â”‚    â”‚
â”‚ â”‚                                                      â”‚    â”‚
â”‚ â”‚  [Mint Now (0.0005 ETH)]  [Back]                    â”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Frame 3: MINT CONFIRMATION                                  â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚  ğŸ’³ Confirm Mint                                     â”‚    â”‚
â”‚ â”‚                                                      â”‚    â”‚
â”‚ â”‚  Amount: 0.0005 ETH (~$1.50)                        â”‚    â”‚
â”‚ â”‚  Network: Base                                       â”‚    â”‚
â”‚ â”‚  Gas estimate: ~$0.60                               â”‚    â”‚
â”‚ â”‚                                                      â”‚    â”‚
â”‚ â”‚  You'll receive:                                     â”‚    â”‚
â”‚ â”‚  â€¢ NFT with your 2025 stats                         â”‚    â”‚
â”‚ â”‚  â€¢ 3% royalty on all future sales                   â”‚    â”‚
â”‚ â”‚                                                      â”‚    â”‚
â”‚ â”‚  [Confirm & Mint]  [Cancel]                         â”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Frame 4: SUCCESS                                            â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚  âœ… Card Minted Successfully!                        â”‚    â”‚
â”‚ â”‚                                                      â”‚    â”‚
â”‚ â”‚  [Card Image Preview - SVG rendered]                â”‚    â”‚
â”‚ â”‚                                                      â”‚    â”‚
â”‚ â”‚  Token #42 â€¢ Legendary Tier                         â”‚    â”‚
â”‚ â”‚                                                      â”‚    â”‚
â”‚ â”‚  [Share to Farcaster] ğŸ”µ                            â”‚    â”‚
â”‚ â”‚  [View on BaseScan] ğŸ”—                              â”‚    â”‚
â”‚ â”‚  [View on OpenSea] ğŸŒŠ                               â”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

SHARE TO FARCASTER (Auto-generated cast):
"I just minted my 2025 Farcaster Yearly Card! ğŸ´

â­ Legendary Tier (92/100)
ğŸ“Š 12k likes â€¢ 954 casts â€¢ 11/12 consistency

Mint yours â†’ [frame-url]"

FRAME ACTIONS:
- Uses Farcaster Frame v2 spec
- Transaction signing via user's connected wallet
- Auto-detect FID from frame context
- No additional auth needed


================================================================================
1ï¸âƒ£2ï¸âƒ£ ECONOMIC MODEL
================================================================================

REVENUE MODEL:

Per Mint (User Perspective):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Protocol Fee:    0.0005 ETH  ~$1.50         â”‚
â”‚ Gas Fee:         ~$0.60      (paid to Base) â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚ Total Cost:      ~$2.10                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Per Mint (Protocol Perspective):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Revenue:         0.0005 ETH  ~$1.50         â”‚
â”‚ Costs:           $0          (no gas cost)   â”‚
â”‚ Net Profit:      ~$1.50      (100% margin)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ’¡ Note: Gas fee (~$0.60) dibayar langsung ke network Base, 
         TIDAK masuk ke protocol treasury.

After 1,000 Mints:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Protocol Revenue:   $1,500                   â”‚
â”‚ Protocol Costs:     $0                       â”‚
â”‚ Net Profit:         $1,500                   â”‚
â”‚                                              â”‚
â”‚ Users Paid (total): ~$2,100 ($1.50 + $0.60) â”‚
â”‚   â”œâ”€ To Protocol:   $1,500 (71%)            â”‚
â”‚   â””â”€ To Base L2:    $600   (29%)            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

After 10,000 Mints:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Protocol Revenue:   $15,000                  â”‚
â”‚ Protocol Costs:     $0                       â”‚
â”‚ Net Profit:         $15,000                  â”‚
â”‚                                              â”‚
â”‚ Users Paid (total): ~$21,000                 â”‚
â”‚   â”œâ”€ To Protocol:   $15,000 (71%)           â”‚
â”‚   â””â”€ To Base L2:    $6,000  (29%)           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

SECONDARY MARKET (Royalties):

Example Card Sale:
- Card sells for: 0.01 ETH ($30)
- OpenSea fee: 2.5% = $0.75
- Creator royalty (3%): 0.0003 ETH = $0.90 â†’ to minter
- Seller receives: $28.35

Minter Lifetime Value:
Initial mint cost: $2.10 (fee + gas)
If card traded 5 times at avg $25/sale:
- Royalty per sale: $0.75
- Total royalty earned: $3.75
- Net gain: $1.65 (78% ROI)

Minter ROI Scenarios:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Sales â”‚ Avg Price â”‚ Total Royalty â”‚ Net Profit â”‚ ROI   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   1   â”‚   $20     â”‚    $0.60      â”‚   -$1.50   â”‚  -71% â”‚
â”‚   3   â”‚   $25     â”‚    $2.25      â”‚   +$0.15   â”‚   +7% â”‚
â”‚   5   â”‚   $30     â”‚    $4.50      â”‚   +$2.40   â”‚ +114% â”‚
â”‚  10   â”‚   $35     â”‚   $10.50      â”‚   +$8.40   â”‚ +400% â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

PROTOCOL SUSTAINABILITY:

Revenue Allocation (suggested):
â”œâ”€ 40% Development & maintenance
â”œâ”€ 30% Backend infrastructure (API, Redis, hosting)
â”œâ”€ 20% Neynar API costs
â””â”€ 10% Marketing & growth

Monthly Operational Costs (estimate):
â”œâ”€ Backend hosting: $50-100/mo (Railway/Render)
â”œâ”€ Redis: $20-50/mo (Upstash/Redis Cloud)
â”œâ”€ Neynar API: $100-300/mo (based on usage)
â”œâ”€ Domain & misc: $20/mo
â””â”€ Total: ~$200-500/mo

Break-even: ~150-350 mints/month

PRICING RATIONALE:

Why 0.0005 ETH?
âœ… Low barrier to entry (~$1.50)
âœ… Not too cheap (maintains value perception)
âœ… Covers operational costs after ~300 mints
âœ… Comparable to other social NFTs (Lens, Farcaster collectibles)
âœ… Sustainable long-term model

Comparison to Competitors:
â”œâ”€ Lens Protocol collectibles: Free (gas only ~$0.50)
â”œâ”€ Zora mints: 0.000777 ETH (~$2.30)
â”œâ”€ Sound.xyz: 0.000777 ETH (~$2.30)
â””â”€ Our pricing: Competitive middle ground

USER VALUE PROPOSITION:

What user gets for $2.10:
âœ… Premium NFT with on-chain SVG
âœ… Comprehensive stats (7 metrics)
âœ… Rarity system (gamification)
âœ… 3% royalty on ALL future sales (passive income)
âœ… Tradeable on major marketplaces
âœ… Social proof & bragging rights
âœ… Historical record (on-chain forever)

ROI Timeline:
- Immediate: Digital collectible + social clout
- Short-term (1-3 months): Potential appreciation if rare tier
- Long-term (1+ year): Passive royalty income
- Forever: On-chain historical proof


================================================================================


================================================================================
1ï¸âƒ£3ï¸âƒ£ DEPLOYMENT GUIDE
================================================================================

PREREQUISITES:
- Node.js 18+
- Hardhat or Foundry
- Base wallet with ETH for gas
- Neynar API key
- Redis instance (for leaderboard)

STEP 1: SMART CONTRACT DEPLOYMENT

1. Install dependencies:
   npm install --save-dev hardhat @nomicfoundation/hardhat-toolbox

2. Configure hardhat.config.js:
   networks: {
     base: {
       url: "https://mainnet.base.org",
       accounts: [DEPLOYER_PRIVATE_KEY],
       chainId: 8453
     }
   }

3. Deploy contract:
   npx hardhat run scripts/deploy.js --network base

4. Verify on BaseScan:
   npx hardhat verify --network base DEPLOYED_ADDRESS ORACLE_ADDRESS

STEP 2: BACKEND API SETUP

1. Environment variables (.env):
   NEYNAR_API_KEY=your_key
   STATS_ORACLE_PRIVATE_KEY=0x...
   CONTRACT_ADDRESS=0x...
   REDIS_URL=redis://localhost:6379

2. Install dependencies:
   npm install express ethers redis @neynar/nodejs-sdk

3. Start backend:
   npm run start

STEP 3: FRAME DEPLOYMENT

1. Setup Frog framework:
   npm install frog hono

2. Deploy to Vercel/Railway:
   vercel deploy

3. Update frame URL in contract metadata

STEP 4: VERIFY INTEGRATION

1. Test mint on testnet (Base Goerli)
2. Verify SVG rendering on OpenSea testnet
3. Test royalty calculation
4. Verify signature flow
5. Test frame integration

STEP 5: MAINNET LAUNCH

1. Deploy to Base mainnet
2. Update frontend URLs
3. Announce in Farcaster
4. Monitor gas costs & performance

MONITORING:
- Track mints: Dune Analytics dashboard
- API uptime: UptimeRobot
- Gas costs: Base block explorer
- Errors: Sentry integration


================================================================================
                            END OF BLUEPRINT
================================================================================

Version: 2.0
Last Updated: November 2025
Chain: Base (Ethereum L2)
License: MIT

Questions or contributions:
GitHub: github.com/anotherbobby/yearlysocialcard
Farcaster: @yourusername

================================================================================